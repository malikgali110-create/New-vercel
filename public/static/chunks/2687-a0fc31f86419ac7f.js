"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2687],{2687:function(e,a,t){t.d(a,{a:function(){return j}});var s=t(7437),l=t(2265),n=t(2869),i=t(6070),r=t(6110),c=t(5186),d=t(6815),o=t(6512),m=t(5974),x=t(3186),u=t(6275),h=t(8226),g=t(1804),f=t(9376);function j(e){let{isOpen:a,onClose:t,product:j,selectedOptions:p={quantity:1}}=e,N=(0,f.useRouter)(),[v,y]=(0,l.useState)(!1),[b,w]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:""}),C=p.quantity||1,k=j.price*C,D="digital"===j.type||"nft"===j.type,_=(e,a)=>{w(t=>({...t,[e]:a}))},z=()=>["firstName","lastName","email"].every(e=>""!==b[e].trim()),Z={orderId:"EMC-DIRECT-".concat(Date.now()),totalUSD:k,items:[{id:j.id,title:j.title,artist:j.artist,price:j.price,currency:j.currency,quantity:C,image:j.image,category:j.category,type:j.type,selectedOptions:p}],customerInfo:b};return(0,s.jsx)(r.Vq,{open:a,onOpenChange:t,children:(0,s.jsxs)(r.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(r.fK,{children:(0,s.jsxs)(r.$N,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5"}),v?"Complete Payment":"Quick Purchase"]})}),(0,s.jsx)("div",{className:"space-y-6",children:v?(0,s.jsx)(x.V,{orderData:Z,onPaymentSuccess:e=>{t(),N.push("/payment-success?txid=".concat(e,"&order=").concat(Date.now(),"&product=").concat(j.id))},onPaymentError:e=>{}}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsx)(i.ll,{className:"text-lg",children:"Order Summary"})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("img",{src:j.image||"/placeholder.svg",alt:j.title,className:"w-20 h-20 object-cover rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold",children:j.title}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["by ",j.artist]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(m.C,{variant:"outline",children:j.category}),j.type&&(0,s.jsx)(m.C,{variant:"secondary",children:"digital"===j.type?"Digital Download":"print"===j.type?"Print on Demand":"NFT"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"font-semibold",children:[j.price," ",j.currency]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Qty: ",C]})]})]}),p&&Object.keys(p).length>1&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h5",{className:"font-medium text-sm",children:"Selected Options:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[p.format&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Format:"})," ",p.format]}),p.size&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Size:"})," ",p.size]}),p.material&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Material:"})," ",p.material]})]})]}),(0,s.jsx)(o.Z,{}),(0,s.jsxs)("div",{className:"flex justify-between items-center font-semibold text-lg",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:[k," ",j.currency]})]})]})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5"}),"Contact Information"]})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d._,{htmlFor:"firstName",children:"First Name *"}),(0,s.jsx)(c.I,{id:"firstName",placeholder:"John",value:b.firstName,onChange:e=>_("firstName",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d._,{htmlFor:"lastName",children:"Last Name *"}),(0,s.jsx)(c.I,{id:"lastName",placeholder:"Doe",value:b.lastName,onChange:e=>_("lastName",e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d._,{htmlFor:"email",children:"Email *"}),(0,s.jsx)(c.I,{id:"email",type:"email",placeholder:"john@example.com",value:b.email,onChange:e=>_("email",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d._,{htmlFor:"phone",children:"Phone Number"}),(0,s.jsx)(c.I,{id:"phone",placeholder:"+1 (555) 123-4567",value:b.phone,onChange:e=>_("phone",e.target.value)})]}),D&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Digital Delivery"})]}),(0,s.jsx)("p",{className:"text-sm text-blue-600 mt-1",children:"Your digital files will be sent to the email address above after payment confirmation."})]})]})]}),(0,s.jsxs)(n.z,{onClick:()=>{if(!z()){alert("Please fill in all required fields");return}y(!0)},className:"w-full",size:"lg",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Pay ",k," ",j.currency," with XUMM"]})]})})]})})}},6110:function(e,a,t){t.d(a,{$N:function(){return x},Be:function(){return u},Vq:function(){return r},cZ:function(){return o},fK:function(){return m}});var s=t(7437);t(2265);var l=t(9027),n=t(2489),i=t(4508);function r(e){let{...a}=e;return(0,s.jsx)(l.fC,{"data-slot":"dialog",...a})}function c(e){let{...a}=e;return(0,s.jsx)(l.h_,{"data-slot":"dialog-portal",...a})}function d(e){let{className:a,...t}=e;return(0,s.jsx)(l.aV,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function o(e){let{className:a,children:t,showCloseButton:r=!0,...o}=e;return(0,s.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(l.VY,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...o,children:[t,r&&(0,s.jsxs)(l.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(n.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function x(e){let{className:a,...t}=e;return(0,s.jsx)(l.Dx,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",a),...t})}function u(e){let{className:a,...t}=e;return(0,s.jsx)(l.dk,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",a),...t})}}}]);